
<!-- ====================================================================== -->
<!-- Daily time series -->

	<nml_record name="AM_timeSeriesStatsDaily">
		<nml_option name="config_AM_timeSeriesStatsDaily_enable"
					type="logical" 
					default_value=".false." 
					units="unitless"
					description="If true, ocean analysis member time series stats is called."
					possible_values=".true. or .false."
		/>
		<nml_option name="config_AM_timeSeriesStatsDaily_compute_on_startup"
					type="logical" 
					default_value=".false."
					units="unitless"
					description="Logical flag determining if an analysis member computation occurs on start-up. You likely want this off for this analysis member because it will accumulate any state prior to time stepping."
					possible_values=".true. or .false."
		/>
		<nml_option name="config_AM_timeSeriesStatsDaily_write_on_startup"
					type="logical" 
					default_value=".false." 
					units="unitless"
					description="Logical flag determining if an analysis member output occurs on start-up."
					possible_values=".true. or .false."
		/>
		<nml_option name="config_AM_timeSeriesStatsDaily_compute_interval"
					type="character" 
					default_value="dt" 
					units="unitless"
					description="Interval that determines frequency of computation for the time series stats analysis member."
					possible_values="Any valid time stamp or 'dt'. This must also be less than or requal to output_interval / 2 (at least two samples in a series)."
		/>
		<nml_option name="config_AM_timeSeriesStatsDaily_output_stream"
					type="character" 
					default_value="timeSeriesStatsDailyOutput"
					units="unitless"
					description="Name of stream the time series stats analysis member will operate on."
					possible_values="An existing stream that will be modified (existing fields removed and new ones added) with time series stats outputs. Cannot be 'none', like other analysis members."
		/>
		<nml_option name="config_AM_timeSeriesStatsDaily_restart_stream"
					type="character"
					default_value="timeSeriesStatsDailyRestart"
					units="unitless"
					description="Name of the restart stream the time series stats analysis member will use to initialize itself if restart is enabled."
					possible_values="A restart stream with state of the time series stats."
		/>

		<nml_option name="config_AM_timeSeriesStatsDaily_add_mesh"
					type="logical" 
					default_value=".true."
					units="unitless"
					description="Add the mesh to the output stream."
					possible_values=".true. or .false."
		/>
		<nml_option name="config_AM_timeSeriesStatsDaily_operation"
					type="character"
					default_value="avg"
					units="unitless"
					description="An operation describing the statistic to apply to the time series for all variables in the output stream."
					possible_values="An operation, where it can be 'avg', 'min', or 'max'."
		/>

		<nml_option name="config_AM_timeSeriesStatsDaily_reference_times"
					type="character"
					default_value="initial_time"
					units="unitless"
					description="A list of absolute times describing when to start accumulating statistics. Each token indicates one statistic per variable in the output stream."
					possible_values="A list of absolute times or 'initial_time's, separated by ;."
		/>
		<nml_option name="config_AM_timeSeriesStatsDaily_duration_intervals"
					type="character"
					default_value="repeat_interval"
					units="unitless"
					description="A list of time durations in d_h:m:s describing how long to accumulate statistics. It has to match the number of tokens in reference_times."
					possible_values="A list of time durations in d_h:m:s or 'repeat_interval's, separated by ;. Each must be greater than or equal to compute_interval * 2 and less than or requal to repeat_interval. duration_intervals < repeat_intervals allow for repeated statistics within the repeat_interval (i.e., for climatologies)"
		/>
		<nml_option name="config_AM_timeSeriesStatsDaily_repeat_intervals"
					type="character"
					default_value="reset_interval"
					units="unitless"
					description="A list of time durations in d_h:m:s describing the accumulation statistic periodicity (how often to accumulate). It has to match the number of tokens in reference_times."
					positive_values="A list of time durations in d_h:m:s or 'reset_interval's, separated by ;. Each must be less than or requal to reset_interval. This can be larger than duration_interval to allow for climatologies (every January, every spring, etc.)"
		/>
		<nml_option name="config_AM_timeSeriesStatsDaily_reset_intervals"
					type="character"
					default_value="00-00-01_00:00:00"
					units="unitless"
					description="A list of time durations in d_h:m:s describing the statistic reset periodicity (how often to reset the accumulation). It has to match the number of tokens in reference_times."
					possible_values="A list of time durations in d_h:m:s, separated by ;. Ought to be greater than or equal to output_interval (not verified by the analysis member)."
		/>

	</nml_record>

<!-- ====================================================================== -->
<!-- Monthly time series -->

	<nml_record name="AM_timeSeriesStatsMonthly">
		<nml_option name="config_AM_timeSeriesStatsMonthly_enable"
					type="logical"
					default_value=".false."
					units="unitless"
					description="If true, ocean analysis member time series stats is called."
					possible_values=".true. or .false."
		/>
		<nml_option name="config_AM_timeSeriesStatsMonthly_compute_on_startup"
					type="logical"
					default_value=".false."
					units="unitless"
					description="Logical flag determining if an analysis member computation occurs on start-up. You likely want this off for this analysis member because it will accumulate any state prior to time stepping."
					possible_values=".true. or .false."
		/>
		<nml_option name="config_AM_timeSeriesStatsMonthly_write_on_startup"
					type="logical"
					default_value=".false."
					units="unitless"
					description="Logical flag determining if an analysis member output occurs on start-up."
					possible_values=".true. or .false."
		/>
		<nml_option name="config_AM_timeSeriesStatsMonthly_compute_interval"
					type="character"
					default_value="dt"
					units="unitless"
					description="Interval that determines frequency of computation for the time series stats analysis member."
					possible_values="Any valid time stamp or 'dt'. This must also be less than or requal to output_interval / 2 (at least two samples in a series)."
		/>
		<nml_option name="config_AM_timeSeriesStatsMonthly_output_stream"
					type="character"
					default_value="timeSeriesStatsMonthlyOutput"
					units="unitless"
					description="Name of stream the time series stats analysis member will operate on."
					possible_values="An existing stream that will be modified (existing fields removed and new ones added) with time series stats outputs. Cannot be 'none', like other analysis members."
		/>
		<nml_option name="config_AM_timeSeriesStatsMonthly_restart_stream"
					type="character"
					default_value="timeSeriesStatsMonthlyRestart"
					units="unitless"
					description="Name of the restart stream the time series stats analysis member will use to initialize itself if restart is enabled."
					possible_values="A restart stream with state of the time series stats."
		/>

		<nml_option name="config_AM_timeSeriesStatsMonthly_add_mesh"
					type="logical"
					default_value=".true."
					units="unitless"
					description="Add the mesh to the output stream."
					possible_values=".true. or .false."
		/>
		<nml_option name="config_AM_timeSeriesStatsMonthly_operation"
					type="character"
					default_value="avg"
					units="unitless"
					description="An operation describing the statistic to apply to the time series for all variables in the output stream."
					possible_values="An operation, where it can be 'avg', 'min', or 'max'."
		/>

		<nml_option name="config_AM_timeSeriesStatsMonthly_reference_times"
					type="character"
					default_value="initial_time"
					units="unitless"
					description="A list of absolute times describing when to start accumulating statistics. Each token indicates one statistic per variable in the output stream."
					possible_values="A list of absolute times or 'initial_time's, separated by ;."
		/>
		<nml_option name="config_AM_timeSeriesStatsMonthly_duration_intervals"
					type="character"
					default_value="repeat_interval"
					units="unitless"
					description="A list of time durations in d_h:m:s describing how long to accumulate statistics. It has to match the number of tokens in reference_times."
					possible_values="A list of time durations in d_h:m:s or 'repeat_interval's, separated by ;. Each must be greater than or equal to compute_interval * 2 and less than or requal to repeat_interval. duration_intervals < repeat_intervals allow for repeated statistics within the repeat_interval (i.e., for climatologies)"
		/>
		<nml_option name="config_AM_timeSeriesStatsMonthly_repeat_intervals"
					type="character"
					default_value="reset_interval"
					units="unitless"
					description="A list of time durations in d_h:m:s describing the accumulation statistic periodicity (how often to accumulate). It has to match the number of tokens in reference_times."
					positive_values="A list of time durations in d_h:m:s or 'reset_interval's, separated by ;. Each must be less than or requal to reset_interval. This can be larger than duration_interval to allow for climatologies (every January, every spring, etc.)"
		/>
		<nml_option name="config_AM_timeSeriesStatsMonthly_reset_intervals"
					type="character"
					default_value="00-01-00_00:00:00"
					units="unitless"
					description="A list of time durations in d_h:m:s describing the statistic reset periodicity (how often to reset the accumulation). It has to match the number of tokens in reference_times."
					possible_values="A list of time durations in d_h:m:s, separated by ;. Ought to be greater than or equal to output_interval (not verified by the analysis member)."
		/>

	</nml_record>

<!-- ====================================================================== -->
<!-- Climatology time series -->

	<nml_record name="AM_timeSeriesStatsClimatology">
		<nml_option name="config_AM_timeSeriesStatsClimatology_enable"
					type="logical"
					default_value=".false."
					units="unitless"
					description="If true, ocean analysis member time series stats is called."
					possible_values=".true. or .false."
		/>
		<nml_option name="config_AM_timeSeriesStatsClimatology_compute_on_startup"
					type="logical"
					default_value=".false."
					units="unitless"
					description="Logical flag determining if an analysis member computation occurs on start-up. You likely want this off for this analysis member because it will accumulate any state prior to time stepping."
					possible_values=".true. or .false."
		/>
		<nml_option name="config_AM_timeSeriesStatsClimatology_write_on_startup"
					type="logical"
					default_value=".false."
					units="unitless"
					description="Logical flag determining if an analysis member output occurs on start-up."
					possible_values=".true. or .false."
		/>
		<nml_option name="config_AM_timeSeriesStatsClimatology_compute_interval"
					type="character"
					default_value="dt"
					units="unitless"
					description="Interval that determines frequency of computation for the time series stats analysis member."
					possible_values="Any valid time stamp or 'dt'. This must also be less than or requal to output_interval / 2 (at least two samples in a series)."
		/>
		<nml_option name="config_AM_timeSeriesStatsClimatology_output_stream"
					type="character"
					default_value="timeSeriesStatsClimatologyOutput"
					units="unitless"
					description="Name of stream the time series stats analysis member will operate on."
					possible_values="An existing stream that will be modified (existing fields removed and new ones added) with time series stats outputs. Cannot be 'none', like other analysis members."
		/>
		<nml_option name="config_AM_timeSeriesStatsClimatology_restart_stream"
					type="character"
					default_value="timeSeriesStatsClimatologyRestart"
					units="unitless"
					description="Name of the restart stream the time series stats analysis member will use to initialize itself if restart is enabled."
					possible_values="A restart stream with state of the time series stats."
		/>

		<nml_option name="config_AM_timeSeriesStatsClimatology_add_mesh"
					type="logical"
					default_value=".true."
					units="unitless"
					description="Add the mesh to the output stream."
					possible_values=".true. or .false."
		/>
		<nml_option name="config_AM_timeSeriesStatsClimatology_operation"
					type="character"
					default_value="avg"
					units="unitless"
					description="An operation describing the statistic to apply to the time series for all variables in the output stream."
					possible_values="An operation, where it can be 'avg', 'min', or 'max'."
		/>

		<nml_option name="config_AM_timeSeriesStatsClimatology_reference_times"
					type="character"
					default_value=""
					units="unitless"
					description="A list of absolute times describing when to start accumulating statistics. Each token indicates one statistic per variable in the output stream."
					possible_values="A list of absolute times or 'initial_time's, separated by ;."
		/>
		<nml_option name="config_AM_timeSeriesStatsClimatology_duration_intervals"
					type="character"
					default_value=""
					units="unitless"
					description="A list of time durations in d_h:m:s describing how long to accumulate statistics. It has to match the number of tokens in reference_times."
					possible_values="A list of time durations in d_h:m:s or 'repeat_interval's, separated by ;. Each must be greater than or equal to compute_interval * 2 and less than or requal to repeat_interval. duration_intervals < repeat_intervals allow for repeated statistics within the repeat_interval (i.e., for climatologies)"
		/>
		<nml_option name="config_AM_timeSeriesStatsClimatology_repeat_intervals"
					type="character"
					default_value=""
					units="unitless"
					description="A list of time durations in d_h:m:s describing the accumulation statistic periodicity (how often to accumulate). It has to match the number of tokens in reference_times."
					positive_values="A list of time durations in d_h:m:s or 'reset_interval's, separated by ;. Each must be less than or requal to reset_interval. This can be larger than duration_interval to allow for climatologies (every January, every spring, etc.)"
		/>
		<nml_option name="config_AM_timeSeriesStatsClimatology_reset_intervals"
					type="character"
					default_value=""
					units="unitless"
					description="A list of time durations in d_h:m:s describing the statistic reset periodicity (how often to reset the accumulation). It has to match the number of tokens in reference_times."
					possible_values="A list of time durations in d_h:m:s, separated by ;. Ought to be greater than or equal to output_interval (not verified by the analysis member)."
		/>

	</nml_record>

<!-- ====================================================================== -->

	<packages>
		<package name="timeSeriesStatsDailyAMPKG" description="This package includes variables required for the time series stats analysis member."/>
		<package name="timeSeriesStatsMonthlyAMPKG" description="This package includes variables required for the time series stats analysis member."/>
		<package name="timeSeriesStatsClimatologyAMPKG" description="This package includes variables required for the time series stats analysis member."/>
	</packages>

	<var_struct name="timeSeriesStatsAM" 
				time_levs="1" 
				packages="timeSeriesStatsDailyAMPKG;timeSeriesStatsMonthlyAMPKG;timeSeriesStatsClimatologyAMPKG">
		<var name="timeSeriesStatsOneString" 
			 type="text" 
			 dimensions="Time" 
			 units="unitless"
			 description="a placeholder string so that timeSeriesStats has a memory to duplicate per instance"
		/>
		<var name="timeSeriesStatsOneInteger" 
			 type="integer" 
			 dimensions="Time" 
			 units="unitless"
			 description="a placeholder integer so that timeSeriesStats has a memory to duplicate per instance"
		/>
		<var name="timeSeriesStatsOneReal" 
			 type="real" 
			 dimensions="Time" 
			 units="unitless"
			 description="a placeholder real so that timeSeriesStats has a memory to duplicate per instance"
		/>
	</var_struct>

	<streams>
		<stream name="timeSeriesStatsDailyOutput"
				type="output"
				filename_template="analysis_members/timeSeriesStatsDaily.$Y.nc"
				filename_interval="01-00-00_00:00:00"
				reference_time="00-01-01_00:00:01"
				output_interval="00-00-01_00:00:00"
				packages="timeSeriesStatsDailyAMPKG"
				clobber_mode="truncate"
				runtime_format="single_file">

		  <var name="icePresent"/>
		  <var name="iceAreaCell"/>
		</stream>

		<stream name="timeSeriesStatsDailyRestart"
				runtime_format="single_file"
				type="input;output"
				filename_template="restarts/restart.AM.timeSeriesStatsDaily.$Y-$M-$D_$h.$m.$s.nc"
				filename_interval="output_interval"
				clobber_mode="truncate"
				input_interval="initial_only"
				packages="timeSeriesStatsDailyAMPKG"
				output_interval="stream:restart:output_interval"
				immutable="false"
		/>

		<stream name="timeSeriesStatsMonthlyOutput"
				type="output"
				filename_template="analysis_members/timeSeriesStatsMonthly.$Y.nc"
				filename_interval="01-00-00_00:00:00"
				reference_time="00-01-01_00:00:01"
				output_interval="00-01-00_00:00:00"
				packages="timeSeriesStatsMonthlyAMPKG"
				clobber_mode="truncate"
				runtime_format="single_file">

		  <var name="icePresent"/>
		  <var name="iceAreaCell"/>
		</stream>

		<stream name="timeSeriesStatsMonthlyRestart"
				runtime_format="single_file"
				type="input;output"
				filename_template="restarts/restart.AM.timeSeriesStatsMonthly.$Y-$M-$D_$h.$m.$s.nc"
				filename_interval="output_interval"
				clobber_mode="truncate"
				input_interval="initial_only"
				packages="timeSeriesStatsMonthlyAMPKG"
				output_interval="stream:restart:output_interval"
				immutable="false"
		/>

		<stream name="timeSeriesStatsClimatologyOutput"
				type="output"
				filename_template="analysis_members/timeSeriesStatsClimatology.nc"
				filename_interval="none"
				output_interval="10-00-00_00:00:00"
				packages="timeSeriesStatsClimatologyAMPKG"
				clobber_mode="truncate"
				runtime_format="single_file">

		  <var name="icePresent"/>
		  <var name="iceAreaCell"/>
		</stream>

		<stream name="timeSeriesStatsClimatologyRestart"
				runtime_format="single_file"
				type="input;output"
				filename_template="restarts/restart.AM.timeSeriesStatsClimatology.$Y-$M-$D_$h.$m.$s.nc"
				filename_interval="output_interval"
				clobber_mode="truncate"
				input_interval="initial_only"
				packages="timeSeriesStatsClimatologyAMPKG"
				output_interval="stream:restart:output_interval"
				immutable="false"
		/>

	</streams>
